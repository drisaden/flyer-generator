
<!DOCTYPE html>
<html lang="en">
<head id="head-section">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <title>Dynamic Usrah Flyer Generator</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/fontawesome.min.css"
        integrity="sha512-xX2rYBFJSj86W54Fyv1de80DWBq7zYLn2z0I9bIhQG+rxIF6XVJUpdGnsNHWRa6AvP89vtFupEPDP8eZAtu9qA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdn.jsdelivr.net/npm/hijri-date@1.0.1/dist/hijri-date.js"></script>

<link rel="stylesheet" href="https://adenaikeidris.com.ng/assets/css/style.css">
 <link rel="icon" type="image/png" href="./mssn-logo.png">

</head>
<style>
  .leading-0{
    line-height: 0.85;
  }
  .border-lime{
    border-color: #90FF27;
  }
  .text-lime{
    color: #90FF27;
  }
   .text-shadow{
    text-shadow: 5px .4px gray;
    color: #90FF27;
  }
  .z-9999{
    z-index: 9999;
  }
  .z-10{
    z-index: -10;
  }
</style>

<body>
    <main id="modal" class="fixed top-0 left-0 w-full h-full bg-gray-100  flex flex-col items-center justify-center z-9999">
  
    <div class="bg-white p-8 rounded shadow-md max-w-md w-11/12 mx-auto">
        
      <label for="topicInput" class="block text-sm font-medium text-gray-700 my-2">Topic:</label>
    <input type="text" id="topicInput" class="mt-1 p-2 border rounded-md w-full focus:outline-none" oninput="updateTemplate()">
     <label for="lecturerInput" class="block text-sm font-medium text-gray-700 my-2">Name of Lecturer:</label>
     <input type="text" id="lecturerInput" class="mt-1 p-2 border rounded-md w-full focus:outline-none" oninput="updateTemplate()">
 <label for="dateGreInput" class="block text-sm font-medium text-gray-700 my-2">Date:</label>
 <input type="date" id="dateGreInput" class="mt-1 p-2 border rounded-md w-full focus:outline-none" oninput="updateTemplate()">
 
 <div class="flex justify-between align-center ">
 
    <button id="preview"  class="mt-4 bg-diamond-2 text-white px-4 py-2 rounded-md text-sm">Preview</button>
      
    </div>
  </div>
  </main>
 
  
  <div id="temCon" class="hidden">
  <div id="templateContainer" style="width:120%" class="relative">
     <div>
     
   
   <!--<div class="bg-contain bg-center bg-no-repeat" style="background: url('./bg.jpg');">-->
     <div class="h-full relative">
       
  
     <img src="./bg.jpg" alt="" class="absolute h-full bg-white w-full bg-gradient-to-t from-white to-transparent z-10">
     
     <div class="flex flex-col gap-1 justify-between">
       <div class="border-1 border-gray-800 bg-transparent rounded-full w-16 h-16 mx-auto mt-10">
       <img src="./mssn-logo.png" alt="" class="w-full h-full rounded-full p-2">
       </div>
       <span class="uppercase font-bold leading-tight tracking-widest text-center text-sm">MUSLIM STUDENTS' SOCIETY OF NIGERIA <br>REMO AREA COUNCIL</span>
     </div>
     <div class="flex flex-col gap-1 justify-between text-center">
       <span class="font-light text-gray-700 capitalize mt-5">Presents</span>
       <h1 class="text-8xl leading-0 tracking-widest text-shadow font-black">WEEKLY <br>USRAH</h1>
     </div>
     <div class="bg-green-800 p-2 flex gap-2 rounded-b-md w-3/4 mx-auto text-white font-bold">
       <span class="self-center bg-red-500 p-1 rounded-sm">
         Topic:
       </span>
      <span class="block text-1eft self-center leading-tight" id="topic"></span>
     </div>
       
     
   </div>
   <div class="mt-2 border-t-4 border-lime bg-green-800 px-10 py-5 w-full grid grid-cols-2 gap-2">
     <!--<div class="flex justify-between align-center w-full gap-2">-->
       <div class="flex flex-col align-center">
         <span class="text-lime leading-0 font-bold">Lecturer:</span>
         <span class="text-white leading-tight" id="lecturer"></span>
       </div>
       
       <div class="flex flex-col align-center">
         <span class="text-lime leading-0 font-bold">Date:</span>
       <!--  <span class="text-white leading-tight">Thursday, 1st February, 2024</span>-->
                  <span class="text-white leading-tight" id="dateGre"></span>
                  <span class="text-white leading-tight" id="dateIsl"></span>

       </div>
     <!--</div>-->
    <!-- <div class="mt-2 flex justify-between align-center w-full gap-2">-->
       <div class="mt-5 flex flex-col align-center">
         <span class="text-lime leading-0 font-bold">Time:</span>
         <span class="text-white leading-tight">04:30 pm - 6:30 pm</span>
       </div>
       
       <div class="mt-5 flex flex-col align-center">
         <span class="text-lime leading-0 font-bold">Venue:</span>
         <span class="text-white leading-tight">Sagamu Central Mosque, Falawo</span>
       </div>
    <!-- </div>-->

   </div>
   <div class="flex mx-auto justify-center gap-3 px-10 py-5 bg-white align-center text-green-800 text-sm">
     <div class="flex gap-1 align-center">
       <div>
         <i class="fab fa-instagram"></i>
         <i class="fab fa-facebook"></i>
         <i class="fab fa-twitter"></i>
       </div>
       
      <p class="self-center">mssnremoareacouncil</p>
     </div>
      <div class="flex align-center gap-1">
        <div>
        <i class="fab fa-whatsapp"></i>
        </div>
        <p class="self-center">+234 708 050 8894</p>
      </div>
   </div>
     
   </div>
    
   </div>
   <div class="flex justify-evenly align-center mt-10 items-center w-full">
     
     <div>
       
    
   <button type="button" class="bg-diamond-2 text-white px-4 py-2 rounded-md text-xl" id="downloadFlyer">Download Flyer</button>
   </div>
   <div class="self-center">
    <button type="button" class="link-btn focus:outline-none focus:ring-0 block tx-diamond  font-semibold md:font-medium relative leading-none text-xl tx-mont self-center" id="update">Edit</button>
  </div>

  </div>
  
  </body>
<script>
  
  function convertToHijri(gregorianDate) {
  // Define the start date of the conversion in the Gregorian calendar
  const startDate = new Date('2024-02-10');
  // Hijri start date for calculation, beginning from Rajab since February 10, 2024, is 28 Rajab 1445
  let hijriDay = 28;
  let hijriMonthIndex = 7; // Rajab, considering 0 index based (Rajab is the 7th month in the given sequence starting from Muharram)
  let hijriYear = 1445;

  // Hijri months and their days, starting from Muharram
  const hijriMonths = [
    'Muharram', 'Safar', 'Rabi-ul-Awwal', 'Rabi-ul-Aakhir', 'Jumadal-uula', 'Jumadal-aakhirah',
    'Rajab', 'Sha\'ban', 'Ramadan', 'Shawwal', 'Dhul-Qa\'dah', 'Dhul-hijjah'
  ];
  const hijriMonthDays = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29];

  // Calculate the difference in days between the given Gregorian date and the start date
  const differenceInDays = Math.floor((gregorianDate - startDate) / (1000 * 60 * 60 * 24));

  let totalDays = hijriDay + differenceInDays;

  // Loop through each month to find the equivalent Hijri date
  while (totalDays > hijriMonthDays[hijriMonthIndex]) {
    totalDays -= hijriMonthDays[hijriMonthIndex];
    hijriMonthIndex++;
    // Adjust month index and increment year if needed
    if (hijriMonthIndex > 11) {
      hijriMonthIndex = 0; // Reset to Muharram
      hijriYear++;
    }
  }

  hijriDay = totalDays; // The remaining days give us the Hijri day

  const hijriMonth = hijriMonths[hijriMonthIndex];

  return `${hijriDay} ${hijriMonth}, ${hijriYear} A.H`;
}

// Example usage:
const gregorianDate = new Date('2024-02-29'); // Convert February 29, 2024, to Hijri
console.log(convertToHijri(gregorianDate)); // Should output the Hijri equivalent

</script>

<script>
  function updateTemplate() {
  // Get user input
  const topic = document.getElementById('topicInput').value;
  const lecturer = document.getElementById('lecturerInput').value;
  const dateGre = document.getElementById('dateGreInput').value;

  // Update template content in real-time
  document.getElementById('topic').innerText = topic;
  document.getElementById('lecturer').innerText = lecturer;
  document.getElementById('dateGre').innerText = formatDate(dateGre);

  // Update other dynamic content as needed
}

function formatDate(selectedDate) {
  const options = { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' };
  const formattedDate = new Date(selectedDate).toLocaleDateString('en-US', options);
  return formattedDate;
}


document.addEventListener("DOMContentLoaded", function () {
  const modal = document.getElementById("modal");
  const temCon = document.getElementById("temCon");
  const updateModal = document.getElementById("update");

  const previewBtn = document.getElementById("preview");
  const downloadBtn = document.getElementById("downloadFlyer");

  function showTemCon() {
    modal.style.display = "none";
    temCon.style.display = "block";
    temCon.classList.remove("hidden");
    document.body.style.overflow = "hidden";
  }

  function hideTemCon() {
    modal.style.marginTop = "50%";
    modal.style.display = "block";
    temCon.style.display = "none";
    temCon.classList.add("hidden");
    document.body.style.overflow = "";
  }

  function downloadFlyer() {
    html2canvas(document.getElementById("templateContainer")).then(function (canvas) {
      const link = document.createElement("a");
      link.href = canvas.toDataURL();
      link.download = "flyer.png";
      link.click();
    });
  }

  previewBtn.addEventListener("click", function () {
    showTemCon();
  });

  downloadBtn.addEventListener("click", function () {
    downloadFlyer();
  });

  updateModal.addEventListener("click", function () {
    hideTemCon();
    updateTemplate();
  });
});

  




</script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</html>